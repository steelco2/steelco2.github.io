function t431_init(t){var e,r,n,a,l,c=document.querySelector("#rec"+t+" .t431 .t431__table");c&&(e=document.querySelector("#rec"+t+" .t431 .t431__data-part1"),r=document.querySelector("#rec"+t+" .t431 .t431__data-part2"),n=t431__escapeHTML(e&&e.innerHTML||""),a=t431__escapeHTML(r&&r.innerHTML||""),l=c.getAttribute("data-table-width"),e=c.getAttribute("data-target-blank"),r=t431_parseData(n),n=t431_parseData(a),l=t431__setColumnsWidth(t431_parseData(l),a=t431__findMaxRowLengthInTable(r,n),t),t="",r&&(t+=t431__generateTable(r,"th",e,l,a)),n&&(t+=t431__generateTable(n,"td",e,l,a)),c.insertAdjacentHTML("beforeend",t))}function t431__findMaxRowLengthInTable(t,e){var r=0,n=0;return t&&(r=t431__findMaxRowLengInArray(t)),e&&(n=t431__findMaxRowLengInArray(e)),r<n?n:r}function t431__escapeHTML(t){var e=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&nbsp;/g," "),r="",n="";["b","i","u","ul","li","ol","br","img","s","sub","sup","span","hr","pre","code","mark","strong","small"].forEach(function(t){n+=":not("+t+")"});for(var a=["alt","class","title","id","src","style","width","height","data-replace-key"],t=function(t){var e=document.implementation.createHTMLDocument("fake");return e.body.innerHTML=t,e.body.childNodes},l=t(e)?t(e):[],c=0;c<l.length;c++){var _,i=l[c];i!==n&&(3!==i.nodeType&&8!==i.nodeType?(_=document.createElement(i.tagName),a.forEach(function(t){null!==i.getAttribute(t)&&_.setAttribute(t,i.getAttribute(t).replace(/javascript:/gi,""))}),_.textContent=i.textContent,r+=_.outerHTML):r+=i.textContent)}return r}function t431__findMaxRowLengInArray(t){for(var e=0,r=0;r<t.length;r++)t[r].length>e&&(e=t[r].length);return e}function t431__setColumnsWidth(t,e,r){if(t)return t[0];r=document.querySelector("#rec"+r+" .t431 .t-container .t-col");return parseFloat(getComputedStyle(r,null).width.replace("px",""))/e+"px"}function t431__generateTable(t,e,r,n,a){var l="",c="";l+="<"+(c="td"==e?"tbody":"thead")+' class="t431__'+c+'">';for(var _=0;_<t.length;_++){l+="td"==e?0<(_+1)%2?'<tr class="t431__oddrow">':'<tr class="t431__evenrow">':"<tr>";var i=0;t[_].length<a&&(i=a-t[_].length);for(var s,o,y,d,m,u=0;u<t[_].length+i;u++)t[_][u]?(s="",s=Array.isArray(n)&&n[u]?n[u].myText:n,m="",m="td"==e?'<td class="t431__td t-text" width="'+s+'">':'<th class="t431__th t-title" width="'+s+'">',t[_][u].myHref?(o=r?'target="_blank"':"",d=y="",d="link"==t[_][u].myHrefType?(y='<a href="'+t[_][u].myHref+'"'+o+">","</a>"):(y='<div class="t431__btnwrapper"><a href="'+t[_][u].myHref+'"'+o+' class="t-btn t-btn_sm"><table style="width:100%; height:100%"><tr><td>',"</td></tr></table></a></div>"),l+=m+y+t[_][u].myText+d+"</"+e+">"):l+=m+t[_][u].myText+"</"+e+">"):l+="<"+e+' class="t431__'+e+'" width="'+s+'"></'+e+">";l+="</tr>"}return l+="</"+c+">"}function t431_parseData(t){if(""!==t&&void 0!==t){t=t431__addBrTag(t);for(var e=[],r=[],n={myText:"",myHref:"",myHrefType:""},a="",l="",c="",_="",i="",s=0;s<t.length;s++)";"==t[s]&&"&lt;"!=t.slice(s-4,s)&&"&gt;"!=t.slice(s-4,s)&&"&amp;"!=t.slice(s-5,s)&&"&nbsp;"!=t.slice(s-6,s)?(r.push(n),n={myText:"",myHref:""},_=c=l=a=""):("link="==a||" link="==l||"button="==c||" button="==_?(""===n.myHref&&"link="===a?(n.myText=n.myText.slice(0,-5),n.myHrefType="link"):""===n.myHref&&" link="===l?(n.myText=n.myText.slice(0,-6),n.myHrefType="link"):""===n.myHref&&"button="===c?(n.myText=n.myText.slice(0,-7),n.myHrefType="btn"):""===n.myHref&&" button="===_&&(n.myText=n.myText.slice(0,-8),n.myHrefType="btn"),n.myHref+=t[s]):(n.myText+=t[s],a=t431__checkSubstr("link=",a,t[s]),l=t431__checkSubstr(" link=",l,t[s]),c=t431__checkSubstr("button=",c,t[s]),_=t431__checkSubstr(" button=",_,t[s])),"<br />"==(i=t431__checkSubstr("<br />",i,t[s]))&&(n.myHref?n.myHref=n.myHref.slice(0,-6):n.myText=n.myText.slice(0,-6),r.push(n),e.push(r),n={myText:"",myHref:""},_=c=l=a="",r=[]));(0<r.length||""!==n.myText)&&(""!==n&&r.push(n),e.push(r))}return e}function t431__checkSubstr(t,e,r){if(!e&&r==t[0])return r;if(e)for(var n=0;n<t.length-1;n++)if(e[e.length-1]==t[n]&&r==t[n+1])return e+r}function t431__addBrTag(t){var e="";if(t)for(var r=0;r<t.length;r++)"\n"==t[r]||"\r"==t[r]?e+="<br />":e+=t[r];return e.replace(/&nbsp;/g," ")}function t431_createTable(t,e,r,n,a,l,c,_,i,s){var o=t431_parseData(n),y=t431_parseData(e),n=t431_parseData(r),e=t431__findMaxRowLengthInTable(y,n),d=t431__setColumnsWidth(o,e,t);if(d[0].myText&&"%"==d[0].myText[d[0].myText.length-1])for(var m=0;m<d.length;m++)d[m].myText=d[m].myText.slice(0,-1),d[m].myText+="vw";r=document.querySelector("#rec"+t+" .t431 .t-container .t431__table"),o="";y&&(o+=t431__generateHtml(t,y,"th",a,d,l,_,null,null,e)),r.insertAdjacentHTML("afterbegin",o),o="",n&&(o+=t431__generateHtml(t,n,"td",a,d,l,c,i,s,e)),r.insertAdjacentHTML("afterbegin",o)}function t431__generateHtml(t,e,r,n,a,l,c,_,i,s){var o="",y="td"==r?"tbody":"thead";o+="<"+y+' class="t431__'+y+'">';var d="";0<document.querySelector("#rec"+t+" .t431 .t-container .t431__thead th").length&&"0"!=document.querySelector("#rec"+t+" .t431 .t-container .t431__thead th").style.borderBottomWidth&&(d="border-top: 0 !important;");for(var m=0;m<e.length;m++){o+="td"==r?0<(m+1)%2?'<tr class="t431__oddrow"style="'+_+'">':'<tr class="t431__evenrow"style="'+i+'">':"<tr>";var u=0;e[m].length<s&&(u=s-e[m].length);for(var h,f,b,g,T=0;T<e[m].length+u;T++)e[m][T]?(b=Array.isArray(a)&&a[T]?a[T].myText:a,g=0==m&&"td"==r?"<"+r+' class="t431__'+r+'" style="width:'+b+";"+c+d+'">':"<"+r+' class="t431__'+r+'" style="width:'+b+";"+c+'">',e[m][T].myHref?(f=n?'target="_blank"':"",f="link"==e[m][T].myHrefType?(h='<a href="'+e[m][T].myHref+'"'+f+">","</a>"):(h='<div class="t431__btnwrapper"><a href="'+e[m][T].myHref+'"'+f+' class="t-btn t-btn_sm" style="'+l+'"><table style="width:100%; height:100%;"><tr><td>',"</td></tr></table></a></div>"),o+=g+h+e[m][T].myText+f+"</"+r+">"):o+=g+e[m][T].myText+"</"+r+">"):o+="<"+r+' class="t431__'+r+'" style="width:'+b+";"+c+'"></'+r+">";o+="</tr>"}return o+="</"+y+">"}
