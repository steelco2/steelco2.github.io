function t396_initTooltip(t){tn_console("func: initTooltip");var e=t.querySelector(".tn-atom__pin"),o=t.querySelector(".tn-atom__tip"),i=t.getAttribute("data-field-tipopen-value");(window.t396__isMobile||"click"===i?t396_setUpTooltip_mobile:t396_setUpTooltip_desktop)(t,e,o),setTimeout(function(){var t=document.querySelectorAll(".tn-atom__tip-img");Array.prototype.forEach.call(t,function(t){var e=t.getAttribute("data-tipimg-original");e&&(t.src=e)})},3e3)}function t396_setUpTooltip_desktop(o,t,e){var i;o=t396_getEl(o),t&&(t.addEventListener("mouseover",function(){var t=document.querySelectorAll(".tn-atom__tip_visible");Array.prototype.forEach.call(t,function(t){var e=t.closest(".t396__elem");(e?e.getAttribute("data-elem-id"):"")!==o.getAttribute("data-elem-id")&&t396_hideTooltip(e,t)}),clearTimeout(i),e&&"block"===e.style.display||t396_showTooltip(o,e)}),t.addEventListener("mouseout",function(){i=setTimeout(function(){t396_hideTooltip(o,e)},300)}))}function t396_setUpTooltip_mobile(e,t,o){e=t396_getEl(e),t&&t.addEventListener("click",function(){(o&&"block"===o.style.display&&t.classList.contains("tn-atom__pin")?t396_hideTooltip:t396_showTooltip)(e,o)});var i=e.getAttribute("data-elem-id");document.addEventListener("click",function(t){if(t.target.closest(".tn-atom__pin")){t=t.target.closest(".t396__elem");if((t?t.getAttribute("data-elem-id"):"")===i)return}t396_hideTooltip(e,o)})}function t396_hideTooltip(t,e){e&&(e.style.display=""),e&&(e.style.left=""),e&&(e.style.transform=""),e&&(e.style.right=""),e&&e.classList.remove("tn-atom__tip_visible"),t&&(t.style.zIndex="")}function t396_showTooltip(t,e){var o=(t=t396_getEl(t)).closest(".t396__artboard_scale")&&!t396_isOnlyScalableBrowser(),i=(i=t.getAttribute("data-field-tipposition-value"))||"top",l=t.clientHeight;o&&(l*=window.tn_scale_factor);var n=t.getBoundingClientRect().top+window.pageYOffset,a=n+l,s=t.getBoundingClientRect().left+window.pageXOffset;o&&(s*=window.tn_scale_factor);var r=t.getBoundingClientRect().right+window.pageXOffset;o&&(r*=window.tn_scale_factor);var c=window.pageYOffset,d=document.documentElement.clientWidth,_=c+document.documentElement.clientHeight;e&&(e.style.display="block"),e&&(e.style.zIndex="-9999"),e&&(e.style.transform="translateX(-10000px)");var p=e?e.offsetHeight:0,f=e?e.offsetWidth:0;o&&(f*=window.tn_scale_factor),e&&(e.style.display=""),e&&(e.style.zIndex=""),e&&(e.style.transform="");var u,m=15;o&&(m*=window.tn_scale_factor);var y,g,w,v=t.querySelector(".tn-atom__sbs-anim-wrapper");v&&-1!==v.style.transform.indexOf("translateX")&&(y=parseInt(t.style.left),v=parseInt(t.style.left),o&&(y*=window.tn_scale_factor),o&&(v*=window.tn_scale_factor),s+=y,r-=y,n+=v,a-=v),"right"!==i&&"left"!==i||(g=r+m+f,w=s-m-f,("right"===i&&d<g||"left"===i&&w<0)&&(i="top")),"top"!==i&&"bottom"!==i||(w=s-(f/2-l/2),d<(g=r+(f/2-l/2))&&(r=-(d-r-m),e&&(e.style.left="auto"),e&&(e.style.transform="none"),e&&(e.style.right=r+"px")),w<0&&(s=-(s-m),e&&(e.style.left=s+"px"),e&&(e.style.transform="none"))),"top"===i&&(u=n-m-p,a+m+p<_&&u<c&&(i="bottom")),"bottom"===i&&(u=n-m-p,_<a+m+p&&c<u&&(i="top")),e&&e.setAttribute("data-tip-pos",i),e&&(e.style.display="block"),e&&e.classList.add("tn-atom__tip_visible"),t&&(t.style.zIndex="1000")}